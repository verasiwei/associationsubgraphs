<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Find all subgraphs in pairs for every subset of edges — calculate_subgraph_structure • associationsubgraphs</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Find all subgraphs in pairs for every subset of edges — calculate_subgraph_structure"><meta property="og:description" content="Given a dataframe of edges with strength between nodes this function returns
info on every subgraph state achieved by adding nodes in one-at-a-time in
descending order of strength."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">associationsubgraphs</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/exploring_subgraph_results.html">Structure of subgraphs results</a>
    </li>
    <li>
      <a href="../articles/tutorial_associationsubgraph.html">How to build associationsubgraphs step by step?</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Find all subgraphs in pairs for every subset of edges</h1>
    
    <div class="hidden name"><code>calculate_subgraph_structure.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Given a dataframe of edges with strength between nodes this function returns
info on every subgraph state achieved by adding nodes in one-at-a-time in
descending order of strength.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">calculate_subgraph_structure</span><span class="op">(</span></span>
<span>  <span class="va">association_pairs</span>,</span>
<span>  strength_column <span class="op">=</span> <span class="st">"strength"</span>,</span>
<span>  return_subgraph_membership <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>association_pairs</dt>
<dd><p>dataframe with columns <code>a</code> and <code>b</code> representing the
ids of the variables or nodes and columns <code>strength</code> that is a numeric
indicator of strength of association (higher = stronger).</p></dd>


<dt>strength_column</dt>
<dd><p>Id of column that encodes the strength of the associations for pairs</p></dd>


<dt>return_subgraph_membership</dt>
<dd><p>Should a column with a named integer vector
of each node's subgraph membership be returned? This can be useful for
comparing consistency of structure across different networks etc. but comes
at the cost of speed and memory usage.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Dataframe with the following columns for each unique subgraph state.</p><table class="table table"><tr><td><strong>Column</strong></td><td></td><td><strong>Description</strong></td></tr><tr><td><code>step</code></td><td></td><td>Integer step, aka the number of unique edge strengths in network at state</td></tr><tr><td><code>n_edges</code></td><td></td><td>How many edges have been added thus far</td></tr><tr><td><code>strength</code></td><td></td><td>The lowest strength of the edge(s) added</td></tr><tr><td><code>n_nodes_seen</code></td><td></td><td>How many unique nodes/variables are currently in network</td></tr><tr><td><code>n_subgraphs</code></td><td></td><td>How many isolated subgraphs/components of size &gt; 2 are in current network</td></tr><tr><td><code>n_triples</code></td><td></td><td>How many isolated subgraphs of size 3 or larger are in current network</td></tr><tr><td><code>max_size</code></td><td></td><td>Size in number of nodes of the largest current subgraph</td></tr><tr><td><code>max_rel_size</code></td><td></td><td>Proportion of all seen nodes (<code>n_nodes_seen</code>) that the largest subgraph includes. Large values indicate presence of a giant-component.</td></tr><tr><td><code>avg_size</code></td><td></td><td>Average size of subgraphs</td></tr><tr><td><code>avg_density</code></td><td></td><td>Average density of subgraphs. Scale from &gt;0 - 1. Where a density of 1 is a fully-connected subgraph.</td></tr><tr><td><code>subgraphs</code></td><td></td><td>List column of summary stats for each subgraph at a given step. See the <code>subgraph</code> list column section for more info.</td></tr></table></div>
    <div id="subgraph-list-column">
    <h2><code>subgraph</code> list column</h2>
    


<p>The subgraph list column in the results contains information on the present subgraphs at each step. It is a list with the following format, but can be turned into a dataframe/tibble easily with <code>dplyr::as_tibble/as.data.frame</code>.</p><table class="table table"><tr><td><strong>Column</strong></td><td></td><td><strong>Description</strong></td></tr><tr><td><code>id</code></td><td></td><td>Integer ID for subgraph. Can be used to track subgraph evolution over steps.</td></tr><tr><td><code>size</code></td><td></td><td>How many variables/nodes subgraph has</td></tr><tr><td><code>density</code></td><td></td><td>Density of subgraph. Scale from &gt;0 - 1. Where a density of 1 is a fully-connected subgraph.</td></tr><tr><td><code>strength</code></td><td></td><td>How many unique nodes/variables are currently in network</td></tr><tr><td><code>first_edge</code></td><td></td><td>0-based integer index of first edge that made up subgraph. Used internally to match subgraphs in interactive visualizations with these results.</td></tr></table></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">virus_associations</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">virus_net</span>, <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">strength</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">calculate_subgraph_structure</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">virus_associations</span>, <span class="fl">1000</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 327 × 11</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     step n_edges stren…¹ n_nod…² n_sub…³ max_s…⁴ rel_m…⁵ avg_s…⁶ avg_d…⁷ n_tri…⁸</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>     1       1  0.091<span style="text-decoration: underline;">6</span>       2       1       2   1         2     1           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>     2       2  0.083<span style="text-decoration: underline;">6</span>       3       1       3   1         3     0.667       1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>     3       3  0.075<span style="text-decoration: underline;">0</span>       5       2       3   0.6       2.5   0.833       1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>     4       4  0.072<span style="text-decoration: underline;">9</span>       6       2       3   0.5       3     0.667       2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>     5       5  0.072<span style="text-decoration: underline;">8</span>       6       2       3   0.5       3     0.833       2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>     6       6  0.070<span style="text-decoration: underline;">4</span>       7       2       4   0.571     3.5   0.667       2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>     7       7  0.068<span style="text-decoration: underline;">9</span>       8       2       4   0.5       4     0.583       2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>     8       8  0.067<span style="text-decoration: underline;">6</span>       9       2       5   0.556     4.5   0.533       2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>     9      10  0.065<span style="text-decoration: underline;">1</span>      12       3       5   0.417     4     0.578       3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>    10      11  0.062<span style="text-decoration: underline;">3</span>      14       4       5   0.357     3.5   0.683       3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with 317 more rows, 1 more variable: subgraphs &lt;list&gt;, and abbreviated</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   variable names ¹​strength, ²​n_nodes_seen, ³​n_subgraphs, ⁴​max_size,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ⁵​rel_max_size, ⁶​avg_size, ⁷​avg_density, ⁸​n_triples</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># We can also return each nodes membership at every step</span></span></span>
<span class="r-in"><span><span class="co"># although it will slow things down a bit</span></span></span>
<span class="r-in"><span><span class="fu">calculate_subgraph_structure</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">virus_associations</span>, <span class="fl">1000</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                             return_subgraph_membership <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>first element used of 'length.out' argument</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in seq_len(nrow(res$subgraph_membership)):</span> argument must be coercible to non-negative integer</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

